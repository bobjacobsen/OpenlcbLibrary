@startuml

protocol PhysicalLayer
PhysicalLayer <|-- CanPhysicalLayer : implements
CanPhysicalLayer <|-- CanTelnetLink
CanPhysicalLayer <|-- CanUsbLink

class LinkLayer
LinkLayer <|-- CanLink

CanLink *-l-> CanPhysicalLayer : listener
CanLink : CanPhysicalLayer

protocol Processor
Processor : process(Message:, Node:)

struct RemoteNodeProcessor
struct LocalNodeProcessor
struct DatagramProcessor
Processor <|-- RemoteNodeProcessor
Processor <|-- LocalNodeProcessor
Processor <|-- DatagramProcessor

class Node
Node : DatagramService
Node : MemoryService

protocol NodeStore
NodeStore : Set<Node>
NodeStore : Set<Processor>
NodeStore : LinkLayer

struct RemoteNodeStore
NodeStore <|-- RemoteNodeStore
struct LocalNodeStore
NodeStore <|-- LocalNodeStore


Node --> DatagramService
Node --> MemoryService

class DatagramService
class MemoryService

NodeStore *-l-> LinkLayer
NodeStore -r-> Node
NodeStore -r-> Processor : reference

@enduml
